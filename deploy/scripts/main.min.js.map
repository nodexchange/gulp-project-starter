{"version":3,"sources":["core.js"],"names":["com","aol","one","ri","$1CRI","utils","aspectRatio","getCurrentAspectRatio","resizeImagePerRatio","element","maxWidth","maxHeight","ratio","width","height","nodeName","offsetWidth","offsetHeight","resizeType","console","log","newWidth","style","Settings","this","Clickthrough","ADTECH","getContent","Image","Use Image","Color","Source","Clickable","Scale to Fit","Default Width","Default Height","CloseButton","Width","Height","Close Button Image","VideoPlayer","Enabled","Volume","MP4 File","Preview Image","End Image","Auto Play","Layout","X","Y","WEBM File","imageContainer","dimensions","settings","defaultWidth","defaultHeight","scaleToFit","image","createImg","createBgColor","w","h","cursor","className","prototype","setVisible","show","display","isClickable","getImage","fileSrc","img","document","createElement","src","color","bgColor","backgroundColor","updateSize","closeButton","setupButton","closeButtonContainer","left","top","position","overflow","closeImage","onclick","clickHandler","appendChild","getButton","updatePosition","leftValue","close","smartVideo","core","container","videoContainer","id","Math","random","originalWidth","originalHeight","currentAspectRatio","setupVideo","e","getVideoContainer","self","registerVideoPlayer","smartPlayer","modules","SmartVideoPlayer","createPlayer","poster","autoplay","mp4","webm","play","auto","pause","firstChild","screenDimensions","addCoreEventListeners","requestViewportDimensions","init","body","dims","getScreenSize","backgroundImage","addEventListener","containerInfo","getBoundingClientRect","positionInfo","event","type","meta","dynamicClick","ready"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n// JSLint\n/*global\nADTECH, $1CRI, $include\n*/\n/**\n * Mobile Responsive Interstitial\n * AOL Platforms 02/2016\n * http://one.aol.com/\n * version 0.1\n *\n * @author: Marcin Wojtala\n */\nvar com = com || {};\ncom.aol = com.aol || {};\ncom.aol.one = com.aol.one || {};\ncom.aol.one.ri = com.aol.one.ri || {};\nvar $1CRI = com.aol.one.ri;\n;\n$1CRI.utils = {\n  aspectRatio: 1,\n  getCurrentAspectRatio: function() {\n    return $1CRI.utils.aspectRatio;\n  },\n  resizeImagePerRatio: function(element, maxWidth, maxHeight) {\n    var ratio = 0; // Used for aspect ratio\n    var width = element.width; // Current image width\n    var height = element.height; // Current image height\n    if(element.nodeName == 'DIV') {\n      width = element.offsetWidth; \n      height = element.offsetHeight;\n    }\n\n    var resizeType = 'portrait';\n    if (maxWidth<maxHeight) {\n      resizeType = 'landscape';\n      console.log('[j] landscape'); \n    }\n    if (resizeType === 'landscape') {\n      // Check if the current width is larger than the max\n      /*if (width < maxWidth) {\n        ratio = maxWidth / width; // get ratio for scaling image\n        $1CRI.utils.aspectRatio = ratio;\n        element.width = maxWidth; // Set new width\n        element.height = height * ratio; // Scale height based on ratio\n        height = height * ratio; // Reset height to match scaled image\n        width = width * ratio; // Reset width to match scaled image\n      }*/\n    } else { \n      console.log('[juti] update resize' + element.nodeName); \n      ratio = maxHeight / height; // get ratio for scaling image\n      $1CRI.utils.aspectRatio = ratio;\n      if(element.nodeName == 'DIV') {\n        var newWidth = (width * ratio);\n        console.log('[j]', newWidth);\n        element.style.height = maxHeight + 'px';\n        element.style.width = newWidth + 'px';\n      } else {\n        element.height = maxHeight; // Set new height\n        element.width = width * ratio; // Scale width based on ratio\n      }\n\n      width = width * ratio; // Reset width to match scaled image\n      height = height * ratio; // Reset height to match scaled image\n    }\n  }\n};\n;\n$1CRI.Settings = function () {\n  this.Clickthrough = ADTECH.getContent('Clickthrough', 'https://ad.doubleclick.net/ddm/clk/300049047;127005073;');\n  this.Image = ADTECH.getContent('Image', {\"Use Image\":\"false\",\"Color\":\"#000000\",\"Source\":\"images/320x480.jpg\",\"Clickable\":\"true\",\"Scale to Fit\":\"true\",\"Default Width\":\"320\",\"Default Height\":\"480\"});\n  this.CloseButton = ADTECH.getContent('CloseButton', {\"Width\":36,\"Height\":36,\"Close Button Image\":\"images/fancybox_sprite.svg\"});\n  this.VideoPlayer = ADTECH.getContent('VideoPlayer', {\"Enabled\":\"true\",\"Clickable\":\"true\",\"Clickthrough\":\"https://ad.doubleclick.net/ddm/clk/300049047;127005073;\",\"Volume\":\"0.2\",\"MP4 File\":\"images/Kadjar_10_OPO_070116.mp4\",\"Preview Image\":\"\",\"End Image\":\"\",\"Auto Play\":true,\"Layout\":\"Fluid||Fixed\",\"Height\":170,\"Width\":320,\"X\":0,\"Y\":40,\"WEBM File\":\"\"});\n};\n\n// module.exports = $1CRI.Settings;\n;\n$1CRI.imageContainer = function(dimensions, settings) {\n  this.utils = $1CRI.utils;\n  var defaultWidth = settings['Default Width'];\n  var defaultHeight = settings['Default Height'];\n  var scaleToFit = settings['Scale to Fit'];\n\n  if(settings['Use Image'] == 'true' || settings['Use Image'] == true){\n    this.image = this.createImg(settings.Source, defaultWidth, defaultHeight);\n  } else { console.log('[Juti] settings juti ELSE !!!!!', settings, 'dimensions !!!!', dimensions); \n    this.image = this.createBgColor(settings.Color, defaultWidth, defaultHeight);\n  }\n  //this.image = this.createImg(settings.Source, defaultWidth, defaultHeight);\n  if (scaleToFit) { console.log('dimensions', dimensions.w, dimensions.h); \n    this.utils.resizeImagePerRatio(this.image, dimensions.w, dimensions.h);\n  }\n  if (settings.Clickable === true || settings.Clickable === 'true') {\n    this.image.style.cursor = 'pointer';\n  }\n  this.image.className = 'imageContainer';\n  return this;\n};\n$1CRI.imageContainer.prototype = {\n  setVisible: function(show) {\n    if (show === true) {\n      this.image.style.display = '';\n    } else {\n      this.image.style.display = 'none';\n    }\n  },\n  isClickable: function() {\n    return this.settings.Clickable;\n  },\n  getImage: function() {console.log('this.image', this.image);\n    return this.image; \n  },\n  createImg: function(fileSrc, width, height) { console.log('width', width, 'height', height); \n    var img = document.createElement('img');\n    img.src = fileSrc;\n    // Forced for retina display\n    img.width = width;\n    img.height = height;\n    return img;\n  },\n  //create a background container with color\n  createBgColor: function(color, width, height) {\n    var bgColor = document.createElement('div');\n    bgColor.style.backgroundColor = color;\n  \n    bgColor.style.width = width+'px';\n    bgColor.style.height = height+'px'; \n\n    return bgColor; \n  },\n  updateSize: function(dimensions) { console.log('[juti] dimensions!!!!! ', dimensions); //juti\n    this.utils.resizeImagePerRatio(this.image, dimensions.w, dimensions.h);\n  }\n};\n;\n$1CRI.closeButton = function(settings) {\n  this.settings = settings;\n  this.setupButton();\n  return this;\n};\n\n$1CRI.closeButton.prototype = {\n  setupButton: function() {\n      this.closeButtonContainer = document.createElement('div');\n      this.closeButtonContainer.className = 'closeButton';\n      this.closeButtonContainer.style.left = '320px';\n      this.closeButtonContainer.style.top = '4px';\n      this.closeButtonContainer.style.position = 'absolute';\n      this.closeButtonContainer.style.overflow = 'hidden';\n      this.closeButtonContainer.style.width = this.settings.Width+'px';\n      this.closeButtonContainer.style.height = this.settings.Height+'px';\n\n      var closeImage = document.createElement('img');\n      closeImage.src = this.settings['Close Button Image'];\n      this.closeButtonContainer.onclick = this.clickHandler;\n      this.closeButtonContainer.appendChild(closeImage);\n      return this.closeButtonContainer;\n  },\n  getButton: function() {\n    return this.closeButtonContainer;\n  },\n  updatePosition: function(left, top) {\n    var leftValue = left - this.settings.Width;\n    this.closeButtonContainer.style.left = leftValue + 'px';\n    this.closeButtonContainer.style.top = top + 'px';\n  },\n  clickHandler: function() {\n    ADTECH.close();\n  }\n};\n;\n$1CRI.smartVideo = $1CRI.smartVideo || {};\n\n$1CRI.smartVideo.core = function(settings, container) {\n  this.utils = $1CRI.utils;\n  this.videoContainer = document.createElement('div');\n  this.videoContainer.id = 'VideoContainer' + (Math.random() * 1000);\n  this.videoContainer.className = 'videoContainer';\n  container.appendChild(this.videoContainer);\n  this.settings = settings;\n  this.originalWidth = this.settings.Width;\n  this.originalHeight = this.settings.Height;\n  this.currentAspectRatio = 1;\n  try {\n    this.setupVideo();\n  } catch (e) {\n    console.log('[SMART PLAYER ERROR]' +e);\n  }\n  return this;\n};\n\n$1CRI.smartVideo.core.prototype = {\n  getVideoContainer: function() {\n    return this.videoContainer;\n  },\n  setupVideo: function() {\n    var self = this;\n    ADTECH.registerVideoPlayer(self.videoContainer, 'Video');\n    if (self.settings.Layout === 'Fluid' || self.settings.Layout === 'Fluid||Fixed') {\n      self.settings.Width = self.originalWidth * self.utils.aspectRatio;\n      self.settings.Height = self.originalHeight * self.utils.aspectRatio;\n      self.currentAspectRatio = self.utils.aspectRatio;\n    }\n  \tvar smartPlayer = ADTECH.modules.SmartVideoPlayer.createPlayer({\n      container: self.videoContainer,\n      width: self.settings.Width,\n      height: self.settings.Height,\n      poster: self.settings['Preview Image'],\n  \t\tautoplay: false,\n      src: {\n        mp4: self.settings['MP4 File'],\n        webm: self.settings['WEBM File']\n      }\n    });\n    self.videoContainer.style.position = 'absolute';\n    if (self.settings.Layout === 'Fluid' || self.settings.Layout === 'Fluid||Fixed') {\n      self.videoContainer.style.left = self.settings.X + '%';\n      self.videoContainer.style.top = self.settings.Y + '%';\n    } else {\n      self.videoContainer.style.left = self.settings.X + 'px';\n      self.videoContainer.style.top = self.settings.Y + 'px';\n    }\n    if (self.settings['Auto Play'] === true || self.settings['Auto Play'] === 'true') {\n     smartPlayer.play({auto: true});\n    } else {\n     smartPlayer.pause();\n  \t}\n  },\n  updateSize: function() {\n    var self = this;\n    if (self.utils.aspectRatio !== self.currentAspectRatio) {\n      self.currentAspectRatio = self.utils.aspectRatio;\n      self.settings.Width = self.settings.Width * (self.utils.aspectRatio*0.9986);\n      self.settings.Height = self.settings.Height * (self.utils.aspectRatio*0.9986);\n      self.videoContainer.firstChild.style.width = self.settings.Width + 'px';\n      self.videoContainer.firstChild.style.height = self.settings.Height + 'px';\n    }\n  }\n};\n;\n\n/* Core */\n$1CRI.core = function() {\n  this.settings = new $1CRI.Settings();\n  this.screenDimensions = {};\n  this.addCoreEventListeners();\n  this.requestViewportDimensions();\n};\n\n$1CRI.core.prototype = {\n  init: function() {\n    var self = this;\n    self.container = document.createElement('div');\n    self.container.style.position = 'relative';\n    self.container.id = 'container';\n    document.body.appendChild(self.container);\n    var dims = self.getScreenSize();\n    if(self.settings.Image['Use Image'] == 'true' || self.settings.Image['Use Image'] == true){\n      self.backgroundImage = new $1CRI.imageContainer(dims, self.settings.Image);\n    } else {\n      self.backgroundImage = new $1CRI.imageContainer(dims, self.settings.Image);\n    }\n    \n    self.backgroundImage.getImage().addEventListener('click', function() {\n      self.clickHandler();\n    });\n    self.container.appendChild(self.backgroundImage.getImage());\n    if (self.settings.VideoPlayer.Enabled === true || self.settings.VideoPlayer.Enabled === 'true') {\n      self.smartPlayer = new $1CRI.smartVideo.core(self.settings.VideoPlayer, self.container);\n    }\n    self.closeButton = new $1CRI.closeButton(self.settings.CloseButton);\n    self.container.appendChild(self.closeButton.getButton());\n    self.closeButton.updatePosition(self.backgroundImage.getImage().width, 3);\n\n    var containerInfo = self.container.getBoundingClientRect();\n    var positionInfo = self.backgroundImage.getImage().getBoundingClientRect();\n    //alert(containerInfo.width + ' : ' + positionInfo.width);\n    self.container.style.left = ((containerInfo.width - positionInfo.width) / 2) + 'px';\n    self.container.style.top = 0;\n\n\n  },\n  requestViewportDimensions: function() {\n    ADTECH.event('viewport', {type:'request'});\n  },\n  addCoreEventListeners: function() {\n    var self = this;\n    ADTECH.addEventListener('viewport', function(event) {\n      if (event.meta.type === 'response') {\n        self.screenDimensions = event.meta.dims;\n        self.init();\n      } else if (event.meta.type === 'update'){\n        self.screenDimensions = event.meta.dims;\n        self.backgroundImage.updateSize(self.screenDimensions);\n        self.smartPlayer.updateSize();\n        self.closeButton.updatePosition(self.backgroundImage.getImage().width, 3);\n        var positionInfo = self.backgroundImage.getImage().getBoundingClientRect();\n        self.container.style.left = ((self.screenDimensions.w - positionInfo.width) / 2) + 'px';\n\n      }\n    });\n  },\n  getScreenSize: function() {\n    return this.screenDimensions;\n  },\n  clickHandler: function() {\n    ADTECH.dynamicClick('Clickthrough', this.settings.Clickthrough);\n  }\n};\nADTECH.ready(['SmartVideoPlayer/1.1.1/SmartVideoPlayer'], function() {\n  'use strict';\n\tnew $1CRI.core();\n});\n\n/*\nADTECH.addEventListener('hello', function() {\n  console.log('HELLOOOOO');\n});\n*/\n;\n"],"sourceRoot":"/source/"}