{"version":3,"sources":["core.js"],"names":["com","aol","one","ri","$1CRI","utils","aspectRatio","getCurrentAspectRatio","resizeImagePerRatio","element","maxWidth","maxHeight","width","height","console","log","dims","calculateAspectRatioFit","aspectRatioH","aspectRatioW","srcWidth","srcHeight","ratio","Math","min","Settings","this","Clickthrough","ADTECH","getContent","Image","Source","Clickable","Scale to Fit","Default Width","Default Height","Use Image","Color","CloseButton","Width","Height","Close Button Image","VideoPlayer","Enabled","Volume","MP4 File","Preview Image","End Image","Auto Play","Layout","X","Y","WEBM File","imageContainer","dimensions","settings","defaultWidth","defaultHeight","scaleToFit","image","createImg","src","style","backgroundColor","w","h","unit","cursor","className","prototype","setVisible","show","display","isClickable","getImage","fileSrc","img","document","createElement","updateSize","closeButton","setupButton","closeButtonContainer","left","top","position","overflow","closeImage","onclick","clickHandler","appendChild","getButton","updatePosition","leftValue","close","smartVideo","core","container","videoContainer","id","random","originalWidth","originalHeight","currentAspectRatioW","currentAspectRatioH","setupVideo","e","self","addEventListener","event","target","indexOf","smartPlayer","player","hasStarted_","dynamicClick","getVideoContainer","registerVideoPlayer","modules","SmartVideoPlayer","createPlayer","poster","autoplay","mp4","webm","play","auto","pause","round","firstChild","screenDimensions","addCoreEventListeners","requestViewportDimensions","init","units","unitDimensions","u","body","getScreenSize","backgroundImage","containerInfo","getBoundingClientRect","positionInfo","repositionContainer","type","meta","ready"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n// JSLint\n/*global\nADTECH, $1CRI, $include\n*/\n/**\n * Mobile Responsive Interstitial\n * AOL Platforms 02/2016\n * http://one.aol.com/\n * version 0.1\n *\n * @author: Marcin Wojtala\n */\nvar com = com || {};\ncom.aol = com.aol || {};\ncom.aol.one = com.aol.one || {};\ncom.aol.one.ri = com.aol.one.ri || {};\nvar $1CRI = com.aol.one.ri;\n;\n$1CRI.utils = {\n  aspectRatio: 1,\n  getCurrentAspectRatio: function() {\n    return $1CRI.utils.aspectRatio;\n  },\n  resizeImagePerRatio: function(element, maxWidth, maxHeight) {\n    var ratio = 0; // Used for aspect ratio\n    var width = element.width; // Current image width\n    var height = element.height; // Current image height\n    var resizeType = '';\n    console.log('>>> width '+width +' height > ' + height +' maxWidth > '+ maxWidth + ' maxHeight > '+ maxHeight)\n    var dims = $1CRI.utils.calculateAspectRatioFit(width, height, maxWidth, maxHeight);\n    element.width = dims.width;\n    element.height = dims.height;\n    $1CRI.utils.aspectRatioH = dims.height / height;\n    $1CRI.utils.aspectRatioW = dims.width / width;\n    console.log($1CRI.utils.aspectRatioH + ' > '+$1CRI.utils.aspectRatioW);\n  },\n  /**\n * Conserve aspect ratio of the orignal region. Useful when shrinking/enlarging\n * images to fit into a certain area.\n *\n * @param {Number} srcWidth Source area width\n * @param {Number} srcHeight Source area height\n * @param {Number} maxWidth Fittable area maximum available width\n * @param {Number} maxHeight Fittable area maximum available height\n * @return {Object} { width, heigth }\n */\n calculateAspectRatioFit: function(srcWidth, srcHeight, maxWidth, maxHeight) {\n     var ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight);\n     return { width: srcWidth*ratio, height: srcHeight*ratio };\n  }\n};\n;\n$1CRI.Settings = function () {\n  this.Clickthrough = ADTECH.getContent('Clickthrough', 'https://ad.doubleclick.net/ddm/clk/300049047;127005073;');\n  this.Image = ADTECH.getContent('Image', {\"Source\":\"images/mobileinterstitial_test.png\",\"Clickable\":\"true\",\"Scale to Fit\":\"true\",\"Default Width\":\"1242\",\"Default Height\":\"2552\",\"Use Image\":\"true\",\"Color\":\"#fff\"});\n  this.CloseButton = ADTECH.getContent('CloseButton', {\"Width\":36,\"Height\":36,\"Close Button Image\":\"images/fancybox_sprite.svg\"});\n  this.VideoPlayer = ADTECH.getContent('VideoPlayer', {\"Enabled\":\"true\",\"Clickable\":\"true\",\"Clickthrough\":\"https://ad.doubleclick.net/ddm/clk/300049047;127005073;\",\"Volume\":\"0.2\",\"MP4 File\":\"images/Kadjar_10_OPO_070116.mp4\",\"Preview Image\":\"\",\"End Image\":\"\",\"Auto Play\":true,\"Layout\":\"Fluid||Fixed\",\"Height\":698,\"Width\":1242,\"X\":0,\"Y\":36,\"WEBM File\":\"\"});\n};\n\n// module.exports = $1CRI.Settings;\n;\n$1CRI.imageContainer = function(dimensions, settings) {\n  this.utils = $1CRI.utils;\n  var defaultWidth = settings['Default Width'];\n  var defaultHeight = settings['Default Height'];\n  var scaleToFit = settings['Scale to Fit'];\n  this.image = this.createImg(settings.Source, defaultWidth, defaultHeight);\n  if(settings['Use Image'] == 'true' || settings['Use Image'] == true){\n    //this.image.style.opacity = 1;\n  } else {\n    this.image.src = '';\n    this.image.style.backgroundColor = settings['Color'];\n  }\n  //this.image = this.createImg(settings.Source, defaultWidth, defaultHeight);\n  if (scaleToFit) { console.log('dimensions', dimensions.w, dimensions.h);\n    this.utils.resizeImagePerRatio(this.image, dimensions.w, dimensions.h, dimensions.unit);\n  }\n  if (settings.Clickable === true || settings.Clickable === 'true') {\n    this.image.style.cursor = 'pointer';\n  }\n  this.image.className = 'imageContainer';\n  return this;\n};\n$1CRI.imageContainer.prototype = {\n  setVisible: function(show) {\n    if (show === true) {\n      this.image.style.display = '';\n    } else {\n      this.image.style.display = 'none';\n    }\n  },\n  isClickable: function() {\n    return this.settings.Clickable;\n  },\n  getImage: function() {\n    return this.image;\n  },\n  createImg: function(fileSrc, width, height) {\n    var img = document.createElement('img');\n    img.src = fileSrc;\n    // Forced for retina display\n    img.width = width;\n    img.height = height;\n    return img;\n  },\n  updateSize: function(dimensions) {\n    this.utils.resizeImagePerRatio(this.image, dimensions.w, dimensions.h, dimensions.unit);\n  }\n};\n;\n$1CRI.closeButton = function(settings) {\n  this.settings = settings;\n  this.setupButton();\n  return this;\n};\n\n$1CRI.closeButton.prototype = {\n  setupButton: function() {\n      this.closeButtonContainer = document.createElement('div');\n      this.closeButtonContainer.className = 'closeButton';\n      this.closeButtonContainer.style.left = '320px';\n      this.closeButtonContainer.style.top = '4px';\n      this.closeButtonContainer.style.position = 'absolute';\n      this.closeButtonContainer.style.overflow = 'hidden';\n      this.closeButtonContainer.style.width = this.settings.Width+'px';\n      this.closeButtonContainer.style.height = this.settings.Height+'px';\n\n      var closeImage = document.createElement('img');\n      closeImage.src = this.settings['Close Button Image'];\n      this.closeButtonContainer.onclick = this.clickHandler;\n      this.closeButtonContainer.appendChild(closeImage);\n      return this.closeButtonContainer;\n  },\n  getButton: function() {\n    return this.closeButtonContainer;\n  },\n  updatePosition: function(left, top) {\n    var leftValue = left - this.settings.Width;\n    this.closeButtonContainer.style.left = leftValue + 'px';\n    this.closeButtonContainer.style.top = top + 'px';\n  },\n  clickHandler: function() {\n    ADTECH.close();\n  }\n};\n;\n$1CRI.smartVideo = $1CRI.smartVideo || {};\n\n$1CRI.smartVideo.core = function(settings, container) {\n  this.utils = $1CRI.utils;\n  this.videoContainer = document.createElement('div');\n  this.videoContainer.id = 'VideoContainer' + (Math.random() * 1000);\n  this.videoContainer.className = 'videoContainer';\n  container.appendChild(this.videoContainer);\n  this.settings = settings;\n  this.originalWidth = this.settings.Width;\n  this.originalHeight = this.settings.Height;\n  this.currentAspectRatioW = 1;\n  this.currentAspectRatioH = 1;\n  try {\n    this.setupVideo();\n  } catch (e) {\n    console.log('[SMART PLAYER ERROR]' +e);\n  }\n  var self = this;\n  if(settings.Clickable == true || settings.Clickable == 'true') {\n    this.videoContainer.addEventListener('click', function(event) {\n      if(event.target.className.indexOf('vjs-tech') > -1) {\n        if(self.smartPlayer.player.hasStarted_ == true) {\n          ADTECH.dynamicClick('Video Clickthrough', self.settings['Clickthrough']);\n        }\n      }\n      console.log(self.smartPlayer.player.hasStarted_);\n    });\n  }\n\n  return this;\n};\n\n$1CRI.smartVideo.core.prototype = {\n  getVideoContainer: function() {\n    return this.videoContainer;\n  },\n  setupVideo: function() {\n    var self = this;\n    ADTECH.registerVideoPlayer(self.videoContainer, 'Video');\n    if (self.settings.Layout === 'Fluid' || self.settings.Layout === 'Fluid||Fixed') {\n      self.settings.Width = self.originalWidth * self.utils.aspectRatioW;\n      self.settings.Height = self.originalHeight * self.utils.aspectRatioH;\n      self.currentAspectRatioW = self.utils.aspectRatioW;\n      self.currentAspectRatioH = self.utils.aspectRatioH;\n    }\n  \tself.smartPlayer = ADTECH.modules.SmartVideoPlayer.createPlayer({\n      container: self.videoContainer,\n      width: self.settings.Width,\n      height: self.settings.Height,\n      poster: self.settings['Preview Image'],\n  \t\tautoplay: self.settings['Auto Play'],\n      src: {\n        mp4: self.settings['MP4 File'],\n        webm: self.settings['WEBM File']\n      }\n    });\n    self.videoContainer.style.position = 'absolute';\n    if (self.settings.Layout === 'Fluid' || self.settings.Layout === 'Fluid||Fixed') {\n      self.videoContainer.style.left = self.settings.X + '%';\n      self.videoContainer.style.top = self.settings.Y + '%';\n    } else {\n      self.videoContainer.style.left = self.settings.X + 'px';\n      self.videoContainer.style.top = self.settings.Y + 'px';\n    }\n    if (self.settings['Auto Play'] === true || self.settings['Auto Play'] === 'true') {\n     self.smartPlayer.play({auto: true});\n    } else {\n     self.smartPlayer.pause();\n  \t}\n  },\n  updateSize: function() {\n    var self = this;\n    if (self.utils.aspectRatioW !== self.currentAspectRatioW || self.utils.aspectRatioH !== self.currentAspectRatioH) {\n      self.currentAspectRatioW = self.utils.aspectRatioW;\n      self.currentAspectRatioH = self.utils.aspectRatioH;\n      self.settings.Width = Math.round(self.settings.Width * (self.utils.aspectRatioW*1));\n      self.settings.Height = Math.round(self.settings.Height * (self.utils.aspectRatioH*1));\n      self.videoContainer.firstChild.style.width = self.settings.Width + 'px';\n      self.videoContainer.firstChild.style.height = self.settings.Height + 'px';\n    }\n  }\n};\n;\n\n/* Core */\n$1CRI.core = function() {\n  this.settings = new $1CRI.Settings();\n  this.screenDimensions = {};\n  this.addCoreEventListeners();\n  this.requestViewportDimensions();\n};\n\n$1CRI.core.prototype = {\n  init: function() {\n    var self = this;\n    self.container = document.createElement('div');\n    self.container.style.position = 'relative';\n    self.container.id = 'container';\n    //var units = (self.settings.width.indexOf('%') != -1) ? '%' : 'px';\n    //var uW = self.settings.width.split('p')[0].split('%')[0];\n    //var uH = self.settings.height.split('p')[0].split('%')[0];\n    var units = '%';\n    self.unitDimensions = {w:100, h:100, u:units};\n\n    document.body.appendChild(self.container);\n    var dims = self.getScreenSize();\n    if(self.settings.Image['Use Image'] == 'true' || self.settings.Image['Use Image'] == true){\n      self.backgroundImage = new $1CRI.imageContainer(dims, self.settings.Image);\n    } else {\n      self.backgroundImage = new $1CRI.imageContainer(dims, self.settings.Image);\n    }\n    self.backgroundImage.getImage().addEventListener('click', function() {\n      self.clickHandler();\n    });\n    self.container.appendChild(self.backgroundImage.getImage());\n    if (self.settings.VideoPlayer.Enabled === true || self.settings.VideoPlayer.Enabled === 'true') {\n      self.smartPlayer = new $1CRI.smartVideo.core(self.settings.VideoPlayer, self.container);\n    }\n    self.closeButton = new $1CRI.closeButton(self.settings.CloseButton);\n    self.container.appendChild(self.closeButton.getButton());\n    self.closeButton.updatePosition(self.backgroundImage.getImage().width, 3);\n\n    var containerInfo = self.container.getBoundingClientRect();\n    var positionInfo = self.backgroundImage.getImage().getBoundingClientRect();\n    //alert(containerInfo.width + ' : ' + positionInfo.width);\n    self.container.style.left = ((containerInfo.width - positionInfo.width) / 2) + 'px';\n    self.container.style.top = 0;\n\n    self.repositionContainer();\n  },\n  requestViewportDimensions: function() {\n    ADTECH.event('viewport', {type:'request'});\n  },\n  addCoreEventListeners: function() {\n    var self = this;\n    ADTECH.addEventListener('viewport', function(event) {\n      if (event.meta.type === 'response') {\n        self.screenDimensions = event.meta.dims;\n        self.init();\n      } else if (event.meta.type === 'update'){\n        self.screenDimensions = event.meta.dims;\n        self.backgroundImage.updateSize(self.getScreenSize());\n        self.smartPlayer.updateSize(self.getScreenSize());\n        self.closeButton.updatePosition(self.backgroundImage.getImage().width, 3);\n        self.repositionContainer();\n      }\n    });\n  },\n  getScreenSize: function() {\n    this.screenDimensions.unit = this.unitDimensions;\n    return this.screenDimensions;\n  },\n  clickHandler: function() {\n    ADTECH.dynamicClick('Clickthrough', this.settings.Clickthrough);\n  },\n  repositionContainer: function() {\n    var self = this;\n    var positionInfo = self.backgroundImage.getImage().getBoundingClientRect();\n    self.container.style.left = ((self.screenDimensions.w - positionInfo.width) / 2) + 'px';\n    self.container.style.top = ((self.screenDimensions.h - positionInfo.height) / 2) + 'px';\n  }\n};\nADTECH.ready(['SmartVideoPlayer/1.1.1/SmartVideoPlayer'], function() {\n  'use strict';\n\tnew $1CRI.core();\n});\n\n/*\nADTECH.addEventListener('hello', function() {\n  console.log('HELLOOOOO');\n});\n*/\n;\n"],"sourceRoot":"/source/"}