{"version":3,"sources":["core.js"],"names":["com","aol","one","ri","$1CRI","utils","aspectRatio","getCurrentAspectRatio","resizeImagePerRatio","element","maxWidth","maxHeight","ratio","width","height","resizeType","Settings","this","Clickthrough","ADTECH","getContent","Image","Use Image","Color","Source","Clickable","Scale to Fit","Default Width","Default Height","CloseButton","Width","Height","Close Button Image","VideoPlayer","Enabled","Volume","MP4 File","Preview Image","End Image","Auto Play","Layout","X","Y","WEBM File","imageContainer","dimensions","settings","defaultWidth","defaultHeight","scaleToFit","image","createImg","createBgColor","w","h","style","cursor","className","prototype","setVisible","show","display","isClickable","getImage","fileSrc","img","document","createElement","src","color","bgColor","backgroundColor","updateSize","closeButton","setupButton","closeButtonContainer","left","top","position","overflow","closeImage","onclick","clickHandler","appendChild","getButton","updatePosition","leftValue","close","smartVideo","core","container","videoContainer","id","Math","random","originalWidth","originalHeight","currentAspectRatio","setupVideo","e","console","log","getVideoContainer","self","registerVideoPlayer","smartPlayer","modules","SmartVideoPlayer","createPlayer","poster","autoplay","mp4","webm","play","auto","pause","firstChild","screenDimensions","addCoreEventListeners","requestViewportDimensions","init","body","dims","getScreenSize","backgroundImage","addEventListener","containerInfo","getBoundingClientRect","positionInfo","event","type","meta","dynamicClick","ready"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n// JSLint\n/*global\nADTECH, $1CRI, $include\n*/\n/**\n * Mobile Responsive Interstitial\n * AOL Platforms 02/2016\n * http://one.aol.com/\n * version 0.1\n *\n * @author: Marcin Wojtala\n */\nvar com = com || {};\ncom.aol = com.aol || {};\ncom.aol.one = com.aol.one || {};\ncom.aol.one.ri = com.aol.one.ri || {};\nvar $1CRI = com.aol.one.ri;\n;\n$1CRI.utils = {\n  aspectRatio: 1,\n  getCurrentAspectRatio: function() {\n    return $1CRI.utils.aspectRatio;\n  },\n  resizeImagePerRatio: function(element, maxWidth, maxHeight) {\n    var ratio = 0; // Used for aspect ratio\n    var width = element.width; // Current image width\n    var height = element.height; // Current image height\n\n    var resizeType = 'portrait';\n    if (maxWidth<maxHeight) {\n      resizeType = 'landscape';\n    }\n    if (resizeType === 'landscape') {\n      // Check if the current width is larger than the max\n      /*if (width < maxWidth) {\n        ratio = maxWidth / width; // get ratio for scaling image\n        $1CRI.utils.aspectRatio = ratio;\n        element.width = maxWidth; // Set new width\n        element.height = height * ratio; // Scale height based on ratio\n        height = height * ratio; // Reset height to match scaled image\n        width = width * ratio; // Reset width to match scaled image\n      }*/\n    } else {\n      ratio = maxHeight / height; // get ratio for scaling image\n      $1CRI.utils.aspectRatio = ratio;\n      element.height = maxHeight; // Set new height\n      element.width = width * ratio; // Scale width based on ratio\n      width = width * ratio; // Reset width to match scaled image\n      height = height * ratio; // Reset height to match scaled image\n    }\n  }\n};\n;\n$1CRI.Settings = function () {\n  this.Clickthrough = ADTECH.getContent('Clickthrough', 'https://ad.doubleclick.net/ddm/clk/300049047;127005073;');\n  this.Image = ADTECH.getContent('Image', {\"Use Image\":\"false\",\"Color\":\"#000000\",\"Source\":\"images/320x480.jpg\",\"Clickable\":\"true\",\"Scale to Fit\":\"true\",\"Default Width\":\"320\",\"Default Height\":\"480\"});\n  this.CloseButton = ADTECH.getContent('CloseButton', {\"Width\":36,\"Height\":36,\"Close Button Image\":\"images/fancybox_sprite.svg\"});\n  this.VideoPlayer = ADTECH.getContent('VideoPlayer', {\"Enabled\":\"true\",\"Clickable\":\"true\",\"Clickthrough\":\"https://ad.doubleclick.net/ddm/clk/300049047;127005073;\",\"Volume\":\"0.2\",\"MP4 File\":\"images/Kadjar_10_OPO_070116.mp4\",\"Preview Image\":\"\",\"End Image\":\"\",\"Auto Play\":true,\"Layout\":\"Fluid||Fixed\",\"Height\":170,\"Width\":320,\"X\":0,\"Y\":40,\"WEBM File\":\"\"});\n};\n\n// module.exports = $1CRI.Settings;\n;\n$1CRI.imageContainer = function(dimensions, settings) {\n  this.utils = $1CRI.utils;\n  var defaultWidth = settings['Default Width'];\n  var defaultHeight = settings['Default Height'];\n  var scaleToFit = settings['Scale to Fit'];\n\n  if(settings['Use Image'] == 'true'){\n    this.image = this.createImg(settings.Source, defaultWidth, defaultHeight);\n  } else {  \n    this.image = this.createBgColor(settings.Color, defaultWidth, defaultHeight);\n  }\n  if (scaleToFit) {\n    this.utils.resizeImagePerRatio(this.image, dimensions.w, dimensions.h);\n  }\n  if (settings.Clickable === true || settings.Clickable === 'true') {\n    this.image.style.cursor = 'pointer';\n  }\n  this.image.className = 'imageContainer';\n  return this;\n};\n$1CRI.imageContainer.prototype = {\n  setVisible: function(show) {\n    if (show === true) {\n      this.image.style.display = '';\n    } else {\n      this.image.style.display = 'none';\n    }\n  },\n  isClickable: function() {\n    return this.settings.Clickable;\n  },\n  getImage: function() {\n    return this.image;\n  },\n  createImg: function(fileSrc, width, height) {\n    var img = document.createElement('img');\n    img.src = fileSrc;\n    // Forced for retina display\n    img.width = width;\n    img.height = height;\n    return img;\n  },\n  //create a background container with color\n  createBgColor: function(color, width, height) {\n    var bgColor = document.createElement('div');\n    bgColor.style.backgroundColor = color;\n    bgColor.style.width = width +'px';\n    bgColor.style.height = height + 'px';  \n    return bgColor; \n  },\n  updateSize: function(dimensions) {\n    this.utils.resizeImagePerRatio(this.image, dimensions.w, dimensions.h);\n  }\n};\n;\n$1CRI.closeButton = function(settings) {\n  this.settings = settings;\n  this.setupButton();\n  return this;\n};\n\n$1CRI.closeButton.prototype = {\n  setupButton: function() {\n      this.closeButtonContainer = document.createElement('div');\n      this.closeButtonContainer.className = 'closeButton';\n      this.closeButtonContainer.style.left = '320px';\n      this.closeButtonContainer.style.top = '4px';\n      this.closeButtonContainer.style.position = 'absolute';\n      this.closeButtonContainer.style.overflow = 'hidden';\n      this.closeButtonContainer.style.width = this.settings.Width+'px';\n      this.closeButtonContainer.style.height = this.settings.Height+'px';\n\n      var closeImage = document.createElement('img');\n      closeImage.src = this.settings['Close Button Image'];\n      this.closeButtonContainer.onclick = this.clickHandler;\n      this.closeButtonContainer.appendChild(closeImage);\n      return this.closeButtonContainer;\n  },\n  getButton: function() {\n    return this.closeButtonContainer;\n  },\n  updatePosition: function(left, top) {\n    var leftValue = left - this.settings.Width;\n    this.closeButtonContainer.style.left = leftValue + 'px';\n    this.closeButtonContainer.style.top = top + 'px';\n  },\n  clickHandler: function() {\n    ADTECH.close();\n  }\n};\n;\n$1CRI.smartVideo = $1CRI.smartVideo || {};\n\n$1CRI.smartVideo.core = function(settings, container) {\n  this.utils = $1CRI.utils;\n  this.videoContainer = document.createElement('div');\n  this.videoContainer.id = 'VideoContainer' + (Math.random() * 1000);\n  this.videoContainer.className = 'videoContainer';\n  container.appendChild(this.videoContainer);\n  this.settings = settings;\n  this.originalWidth = this.settings.Width;\n  this.originalHeight = this.settings.Height;\n  this.currentAspectRatio = 1;\n  try {\n    this.setupVideo();\n  } catch (e) {\n    console.log('[SMART PLAYER ERROR]' +e);\n  }\n  return this;\n};\n\n$1CRI.smartVideo.core.prototype = {\n  getVideoContainer: function() {\n    return this.videoContainer;\n  },\n  setupVideo: function() {\n    var self = this;\n    ADTECH.registerVideoPlayer(self.videoContainer, 'Video');\n    if (self.settings.Layout === 'Fluid' || self.settings.Layout === 'Fluid||Fixed') {\n      self.settings.Width = self.originalWidth * self.utils.aspectRatio;\n      self.settings.Height = self.originalHeight * self.utils.aspectRatio;\n      self.currentAspectRatio = self.utils.aspectRatio;\n    }\n  \tvar smartPlayer = ADTECH.modules.SmartVideoPlayer.createPlayer({\n      container: self.videoContainer,\n      width: self.settings.Width,\n      height: self.settings.Height,\n      poster: self.settings['Preview Image'],\n  \t\tautoplay: false,\n      src: {\n        mp4: self.settings['MP4 File'],\n        webm: self.settings['WEBM File']\n      }\n    });\n    self.videoContainer.style.position = 'absolute';\n    if (self.settings.Layout === 'Fluid' || self.settings.Layout === 'Fluid||Fixed') {\n      self.videoContainer.style.left = self.settings.X + '%';\n      self.videoContainer.style.top = self.settings.Y + '%';\n    } else {\n      self.videoContainer.style.left = self.settings.X + 'px';\n      self.videoContainer.style.top = self.settings.Y + 'px';\n    }\n    if (self.settings['Auto Play'] === true || self.settings['Auto Play'] === 'true') {\n     smartPlayer.play({auto: true});\n    } else {\n     smartPlayer.pause();\n  \t}\n  },\n  updateSize: function() {\n    var self = this;\n    if (self.utils.aspectRatio !== self.currentAspectRatio) {\n      self.currentAspectRatio = self.utils.aspectRatio;\n      self.settings.Width = self.settings.Width * (self.utils.aspectRatio*0.9986);\n      self.settings.Height = self.settings.Height * (self.utils.aspectRatio*0.9986);\n      self.videoContainer.firstChild.style.width = self.settings.Width + 'px';\n      self.videoContainer.firstChild.style.height = self.settings.Height + 'px';\n    }\n  }\n};\n;\n\n/* Core */\n$1CRI.core = function() {\n  this.settings = new $1CRI.Settings();\n  this.screenDimensions = {};\n  this.addCoreEventListeners();\n  this.requestViewportDimensions();\n};\n\n$1CRI.core.prototype = {\n  init: function() {\n    var self = this;\n    self.container = document.createElement('div');\n    self.container.style.position = 'relative';\n    self.container.id = 'container';\n    document.body.appendChild(self.container);\n    var dims = self.getScreenSize();\n    if(self.settings.Image['Use Image'] == 'true'){\n      self.backgroundImage = new $1CRI.imageContainer(dims, self.settings.Image);\n    } else {\n      self.backgroundImage = new $1CRI.imageContainer(dims, self.settings.Image);\n    }    \n    self.backgroundImage.getImage().addEventListener('click', function() {\n      self.clickHandler();\n    });\n    self.container.appendChild(self.backgroundImage.getImage());\n    if (self.settings.VideoPlayer.Enabled === true || self.settings.VideoPlayer.Enabled === 'true') {\n      self.smartPlayer = new $1CRI.smartVideo.core(self.settings.VideoPlayer, self.container);\n    }\n    self.closeButton = new $1CRI.closeButton(self.settings.CloseButton);\n    self.container.appendChild(self.closeButton.getButton());\n    self.closeButton.updatePosition(self.backgroundImage.getImage().width, 3);\n\n    var containerInfo = self.container.getBoundingClientRect();\n    var positionInfo = self.backgroundImage.getImage().getBoundingClientRect();\n    //alert(containerInfo.width + ' : ' + positionInfo.width);\n    self.container.style.left = ((containerInfo.width - positionInfo.width) / 2) + 'px';\n    self.container.style.top = 0;\n\n\n  },\n  requestViewportDimensions: function() {\n    ADTECH.event('viewport', {type:'request'});\n  },\n  addCoreEventListeners: function() {\n    var self = this;\n    ADTECH.addEventListener('viewport', function(event) {\n      if (event.meta.type === 'response') {\n        self.screenDimensions = event.meta.dims;\n        self.init();\n      } else if (event.meta.type === 'update'){\n        self.screenDimensions = event.meta.dims;\n        self.backgroundImage.updateSize(self.screenDimensions);\n        self.smartPlayer.updateSize();\n        self.closeButton.updatePosition(self.backgroundImage.getImage().width, 3);\n        var positionInfo = self.backgroundImage.getImage().getBoundingClientRect();\n        self.container.style.left = ((self.screenDimensions.w - positionInfo.width) / 2) + 'px';\n\n      }\n    });\n  },\n  getScreenSize: function() {\n    return this.screenDimensions;\n  },\n  clickHandler: function() {\n    ADTECH.dynamicClick('Clickthrough', this.settings.Clickthrough);\n  }\n};\nADTECH.ready(['SmartVideoPlayer/1.1.1/SmartVideoPlayer'], function() {\n  'use strict';\n\tnew $1CRI.core();\n});\n\n/*\nADTECH.addEventListener('hello', function() {\n  console.log('HELLOOOOO');\n});\n*/\n;\n"],"sourceRoot":"/source/"}