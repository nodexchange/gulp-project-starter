{"version":3,"sources":["expandableVideo.js"],"names":["e","console","log","com","aol","one","ri","$1CRI","Settings","this","contractedImage","ADTECH","getContent","click","enableVideo","expandedSettings","Image","Width","Height","Close Button Image","Start Expanded","videoContent","X","Y","Preview Image","End Image","MP4 File","WEBM File","Auto Play","Volume","imageContainer","expW","expH","contractImg","setVisible","expandImg","contractBtn","createImg","onclick","clickHandler","protype","elem","show","style","display","fileSrc","w","h","handler","container","img","document","createElement","src","width","height","appendChild","smartVideo","closeButton","setupVideo","position","right","top","onStateChangeHandler","close","core","vidPrevImg","vidEndImg","vid","registerVideoPlayer","smartPlayer","modules","SmartVideoPlayer","createPlayer","poster","autoplay","mp4","webm","left","play","auto","pause","addSmartListeners","initialize","prototype","init","self","body","settings","closeBtn","dynamicClick","ready","addEventListener"],"mappings":"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","file":"main.min.js","sourcesContent":["try {\n\n} catch (e) {\n  console.log('eR  : '+e);\n}\n'use strict';\n/**\n * Mobile Responsive Interstitial\n * AOL Platforms 02/2016\n * http://one.aol.com/\n * version 0.1\n *\n * @author: Marcin Wojtala\n */\nvar com = com || {};\ncom.aol = com.aol || {};\ncom.aol.one = com.aol.one || {};\ncom.aol.one.ri = com.aol.one.ri || {};\nvar $1CRI = com.aol.one.ri;\n;\n$1CRI.Settings = function () {\n  this.contractedImage = ADTECH.getContent('Collapsed Image', '320x50.gif');\n  this.click = ADTECH.getContent('Clickthrough', 'http://www.adtech.com');\n  this.enableVideo = ADTECH.getContent('Enable Video Player', true);\n  this.expandedSettings = ADTECH.getContent('Expanded Settings', {'Image':'320x480.gif', 'Width':'320', 'Height':'480', 'Close Button Image': 'closeButton_100x100.png', 'Start Expanded': false});\n  this.videoContent = ADTECH.getContent('Video Player', { 'X':'22', 'Y':'150', 'Width':'275', 'Height':'150', 'Preview Image':'270x180.gif', 'End Image':'270x180.gif', 'MP4 File':'sample-video.mp4', 'WEBM File':'sample-video.webm', 'Auto Play':'true', 'Volume':'0.7'});\n};\n\n// module.exports = $1CRI.Settings;\n;\nvar $1CRI = $1CRI || {};\r\n\r\n$1CRI.imageContainer = function() {\r\n  var expW = expandedSettings.Width;\r\n  var expH = expandedSettings.Height;\r\n  if (contractImg) {\r\n    setVisible(contractImg, false);\r\n  }\r\n  if (!expandImg) {\r\n    expandImg = createImg(expandedSettings.Image, expW, expH);\r\n    expandImg.onclick = clickHandler;\r\n  } else {\r\n    setVisible(expandImg, true);\r\n    setVisible(contractBtn, true);\r\n  }\r\n};\r\n$1CRI.imageContainer.protype = {\r\n  setVisible: function(elem, show) {\r\n    if (show === true) {\r\n      elem.style.display = '';\r\n    } else {\r\n      elem.style.display = 'none';\r\n    }\r\n  },\r\n  createImg: function(fileSrc, w, h, handler, container) {\r\n    var img = document.createElement('img');\r\n    img.src = fileSrc;\r\n    // Forced for retina display\r\n    img.width = w;\r\n    img.height = h;\r\n    container.appendChild(img);\r\n    return img;\r\n  }\r\n};\r\n;\nvar $1CRI = $1CRI || {};\r\n$1CRI.smartVideo = $1CRI.smartVideo || {};\r\n\r\n$1CRI.closeButton = function() {\r\n\r\n};\r\n\r\n$1CRI.closeButton.protype = {\r\n  setupVideo: function() {\r\n    if (!contractBtn) {\r\n      contractBtn = document.createElement('img');\r\n      contractBtn.src = expandedSettings['Close Button Image'];\r\n      contractBtn.style.position = 'absolute';\r\n      contractBtn.style.right = '4px';\r\n      contractBtn.style.top = '4px';\r\n      contractBtn.onclick = onStateChangeHandler;\r\n      container.appendChild(contractBtn);\r\n    }\r\n  },\r\n  clickHandler: function() {\r\n    ADTECH.close();\r\n  }\r\n};\r\n;\nvar $1CRI = $1CRI || {};\r\n$1CRI.smartVideo = $1CRI.smartVideo || {};\r\n\r\n$1CRI.smartVideo.core = function() {\r\n\r\n};\r\n\r\n$1CRI.smartVideo.core.protype = {\r\n  setupVideo: function() {\r\n    vidPrevImg = videoContent['Preview Image'];\r\n    vidEndImg = videoContent['End Image'];\r\n    vid = document.createElement('div');\r\n    ADTECH.registerVideoPlayer(vid, 'Video');\r\n    container.appendChild(vid);\r\n  \tvar smartPlayer = ADTECH.modules.SmartVideoPlayer.createPlayer({\r\n      container: vid,\r\n      width: videoContent.Width,\r\n      height: videoContent.Height,\r\n      poster: vidPrevImg,\r\n  \t\tautoplay: false,\r\n      src: {\r\n        mp4: videoContent['MP4 File'],\r\n        webm: videoContent['WEBM File']\r\n      }\r\n    });\r\n    vid.style.position = 'absolute';\r\n    vid.style.left = videoContent.X + 'px';\r\n    vid.style.top = videoContent.Y + 'px';\r\n    if (videoContent['Auto Play'] === true || videoContent['Auto Play'] === 'true') {\r\n     smartPlayer.play({auto: true});\r\n    } else {\r\n     smartPlayer.pause();\r\n  \t}\r\n  }\r\n};\r\n;\n\n/* Core */\nvar $1CRI = $1CRI || {};\n$1CRI.core = function() {\n  this.addSmartListeners();\n  this.initialize();\n};\n\n$1CRI.core.prototype = {\n  init: function() {\n    var self = this;\n    self.container = document.createElement('div');\n    self.container.style.position = 'relative';\n    document.body.appendChild(self.container);\n    var bgImage = $1CRI.imageContainer(self.settings, self.container);\n    if (enableVideo === true) {\n      var smartPlayer = $1CRI.smartPlayer.core(self.settings, self.container);\n    }\n    var closeBtn = $1CRI.closeBtn(self.container);\n  },\n  clickHandler: function() {\n    ADTECH.dynamicClick('Clickthrough', click);\n  }\n};\nADTECH.ready(['SmartVideoPlayer/1.1.1/SmartVideoPlayer'], function() {\n  'use strict'\n  console.log(' ADTECH READY HERE');\n\t$1CRI.core();\n});\n\nADTECH.addEventListener('hello', function() {\n  console.log('HELLOOOOO');\n});\n;\n"],"sourceRoot":"/source/"}